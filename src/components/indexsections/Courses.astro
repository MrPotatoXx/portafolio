---
import Section from "@/components/Section.astro";
import { certificates } from "@cv";
import Certificate from "@/icons/Certificate.astro";
import Cisco from "@/icons/Cisco.astro";
import CertLinkedIn from "@/icons/CertLinkedIn.astro";

const getIcon = (issuer: string) => {
  switch (issuer.toLowerCase()) {
    case 'cisco':
      return Cisco;
    case 'linkedin':
      return CertLinkedIn;
    default:
      return Certificate;
  }
};
---

<Section title="Certificaciones">
  <div class="max-w-3xl mx-auto w-full bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-2xl shadow-xl border-2 border-sky-900/30 p-4 md:p-6 mb-4">
    <ul class="flex flex-col gap-3">
      {
        certificates.map(({ name, date, issuer, url }, index) => {
          const Icon = getIcon(issuer);
          return (
            <li class="bg-gradient-to-br from-slate-800/80 to-slate-900/80 shadow-xl border border-sky-900/30 rounded-lg overflow-hidden transition-transform duration-200 hover:scale-[1.02] text-xs md:text-sm">
              <div class="flex items-center pl-2">
                <div class="p-4 bg-gradient-to-br from-sky-600/20 to-sky-800/20 flex items-center justify-center border-r border-sky-900/30 h-full min-w-[70px]">
                  <Icon class="w-6 h-6 text-sky-300" />
                </div>
                <div class="flex-grow p-3">
                  <h3 class="text-base text-sky-300 font-bold">{name}</h3>
                  <div class="flex flex-wrap gap-2 mt-2 items-center justify-between w-full">
                    <div class="flex flex-wrap gap-2">
                      <span class="inline-block px-2 py-1 bg-sky-600/20 text-sky-200 rounded-full text-xs font-semibold border border-sky-500/30">{issuer}</span>
                      <span class="inline-block px-2 py-1 bg-cyan-600/20 text-cyan-200 rounded-full text-xs font-semibold border border-cyan-500/30">{date}</span>
                    </div>
                    {url && (
                      <a
                        href={url}
                        class="inline-block ml-auto px-3 py-1 bg-gradient-to-r from-sky-400/20 to-cyan-400/20 text-sky-200 border border-sky-500/30 rounded-full text-xs font-medium hover:bg-sky-400/40 transition-all duration-200 shadow-sm"
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        Ver certificado
                      </a>
                    )}
                  </div>
                </div>
              </div>
            </li>
          );
        })
      }
    </ul>
  </div>
</Section>
